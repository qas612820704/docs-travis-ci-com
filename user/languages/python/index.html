<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Building a Python Project - Travis CI</title>
<link rel="stylesheet" href="/assets/stylesheets/main.css">
<link rel="alternate" type="application/rss+xml" title="Travis CI Build Environment Updates" href="http://docs.travis-ci.com/feed.build-env-updates.xml">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" defer></script>
<script src="/assets/javascripts/site.js" type="text/javascript" charset="utf-8" defer></script>
<script src="/assets/javascripts/main.js" type="text/javascript" charset="utf-8" defer></script>
<script src="/assets/javascripts/prism.js" type="text/javascript" charset="utf-8" defer></script>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24868285-6']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  </head>
  <body>
    <div class="wrapper">

      <header class="top">
  <div class="row topbar">
    <h1 id="logo" class="logo">
  <a href="http://travis-ci.org/" title="Travis CI">Travis</a>
</h1>
    <nav>
      <ul id="navigation" class="navigation">
        <li><a href="http://blog.travis-ci.com">Blog</a></li>
        <li><a href="/">Docs</a></li>
        <li class="toggle"><button type="button" id="toggle-menu" class="button--teal">Menu</button></li>
      </ul>
    </nav>
  </div>
</header>


      <div id="content" class="row">

        <div id="sidebar" class="sidebar">
  <div>
    <!-- <h2>Search</h2> -->
    <div class="searchbox">
      <form>
        <input type="text" id="st-search-input" class="searchbox-input" placeholder="Search the docs" />
      </form>
      <script type="text/javascript">
      var Swiftype = window.Swiftype || {};
        (function() {
          Swiftype.key = 'tXvDDzd4fNTBnLvxfEyx';

      Swiftype.searchSearchFields = {
            "page": ["title, body, tags"]
          };
          Swiftype.autocompleteSearchFields = {
            "page": ["title, body, tags"]
          };
          /** DO NOT EDIT BELOW THIS LINE **/
          var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
          script.src = "//swiftype.com/embed.js";
          var entry = document.getElementsByTagName('script')[0];
          document.getElementsByTagName('script')[0].parentNode.insertBefore(script, entry);
        }());
      </script>
    </div>
  </div>

  <section class="sidebar-navigation">
    <nav>
      <h3>Getting Started</h3>
      <ul>
        <li><a href="/user/getting-started/">Getting Started</a></li>
        <li><a href="/user/for-beginners/">Core Concepts for Beginners</a></li>
        <li><a href="/user/customizing-the-build/">Customizing Your Build</a></li>
        <li><a href="/user/common-build-problems/">Common Build Problems</a></li>
        <li><a href="/user/speeding-up-the-build/">Speeding up the Build</a></li>
        <li><a href="/user/build-stages/">Build Stages (beta)</a></li>
        <li><a href="/user/docker/">Using Docker in your Build</a></li>
        <li><a href="/user/gui-and-headless-browsers/">Headless Testing with Browsers</a></li>
        <li><a href="/user/pull-requests/">Building Pull Requests</a></li>
        <li><a href="/user/cron-jobs/">Cron Jobs</a></li>
        <li><a href="https://github.com/travis-ci/travis#readme">Command Line Client</a></li>
      </ul>

      <h3>Installing Dependencies</h3>
      <ul>
        <li><a href="/user/installing-dependencies/">Installing Dependencies</a></li>
        <li><a href="/user/private-dependencies/">Private Dependencies</a></li>
        <li><a href="/user/database-setup/">Setting up Services and Databases</a></li>
        <li><a href="/user/caching/">Caching Dependencies</a></li>
        <li><a href="/user/ssh-known-hosts/">Adding to SSH Known Hosts</a></li>

      </ul>
      <h3>Programming Languages</h3>
      <ul>
      
        <li><a href="/user/languages/android/">Android</a></li>
      
        <li><a href="/user/languages/c/">C</a></li>
      
        <li><a href="/user/languages/csharp/">C#</a></li>
      
        <li><a href="/user/languages/cpp/">C++</a></li>
      
        <li><a href="/user/languages/clojure/">Clojure</a></li>
      
        <li><a href="/user/languages/crystal/">Crystal</a></li>
      
        <li><a href="/user/languages/d/">D</a></li>
      
        <li><a href="/user/languages/dart/">Dart</a></li>
      
        <li><a href="/user/languages/erlang/">Erlang</a></li>
      
        <li><a href="/user/languages/elixir/">Elixir</a></li>
      
        <li><a href="/user/languages/csharp/">F#</a></li>
      
        <li><a href="/user/languages/go/">Go</a></li>
      
        <li><a href="/user/languages/groovy/">Groovy</a></li>
      
        <li><a href="/user/languages/haskell/">Haskell</a></li>
      
        <li><a href="/user/languages/haxe/">Haxe</a></li>
      
        <li><a href="/user/languages/java/">Java</a></li>
      
        <li><a href="/user/languages/javascript-with-nodejs/">JavaScript <small>(with Node.js)</small></a></li>
      
        <li><a href="/user/languages/julia/">Julia</a></li>
      
        <li><a href="/user/languages/nix/">Nix</a></li>
      
        <li><a href="/user/languages/objective-c/">Objective-C</a></li>
      
        <li><a href="/user/languages/perl/">Perl</a></li>
      
        <li><a href="/user/languages/perl6/">Perl6</a></li>
      
        <li><a href="/user/languages/php/">PHP</a></li>
      
        <li><a href="/user/languages/python/">Python</a></li>
      
        <li><a href="/user/languages/r/">R</a></li>
      
        <li><a href="/user/languages/ruby/">Ruby</a></li>
      
        <li><a href="/user/languages/rust/">Rust</a></li>
      
        <li><a href="/user/languages/scala/">Scala</a></li>
      
        <li><a href="/user/languages/smalltalk/">Smalltalk</a></li>
      
        <li><a href="/user/languages/objective-c/">Swift</a></li>
      
        <li><a href="/user/languages/csharp/">Visual Basic</a></li>
      
        <li><a href="/user/languages/community-supported-languages/">Adding a language</a></li>
      </ul>

      <h3>Deployments and Uploads</h3>
      <ul>
        <li class="is-overview"><a href="/user/deployment/">Overview</a></li>
        
          <li><a href="/user/deployment/anynines/">anynines</a></li>
        
          <li><a href="/user/deployment/appfog/">Appfog</a></li>
        
          <li><a href="/user/deployment/atlas/">Atlas</a></li>
        
          <li><a href="/user/deployment/codedeploy/">AWS CodeDeploy</a></li>
        
          <li><a href="/user/deployment/elasticbeanstalk/">AWS Elastic Beanstalk</a></li>
        
          <li><a href="/user/deployment/lambda/">AWS Lambda</a></li>
        
          <li><a href="/user/deployment/opsworks/">AWS OpsWorks</a></li>
        
          <li><a href="/user/deployment/s3/">AWS S3</a></li>
        
          <li><a href="/user/deployment/azure-web-apps/">Azure Web Apps</a></li>
        
          <li><a href="/user/deployment/bintray/">bintray</a></li>
        
          <li><a href="/user/deployment/bitballoon/">BitBalloon</a></li>
        
          <li><a href="/user/deployment/bluemixcloudfoundry/">Bluemix CloudFoundry</a></li>
        
          <li><a href="/user/deployment/boxfuse/">Boxfuse</a></li>
        
          <li><a href="/user/deployment/catalyze/">Catalyze</a></li>
        
          <li><a href="/user/deployment/chefsupermarket/">Chef Supermarket</a></li>
        
          <li><a href="/user/deployment/cloud66/">Cloud 66</a></li>
        
          <li><a href="/user/deployment/cloudfoundry/">CloudFoundry</a></li>
        
          <li><a href="/user/deployment/deis/">Deis</a></li>
        
          <li><a href="/user/deployment/engineyard/">Engine Yard</a></li>
        
          <li><a href="/user/deployment/pages/">GitHub Pages</a></li>
        
          <li><a href="/user/deployment/releases/">GitHub Releases</a></li>
        
          <li><a href="/user/deployment/google-app-engine/">Google App Engine</a></li>
        
          <li><a href="/user/deployment/gcs/">Google Cloud Storage</a></li>
        
          <li><a href="/user/deployment/firebase/">Google Firebase</a></li>
        
          <li><a href="/user/deployment/hackage/">Hackage</a></li>
        
          <li><a href="/user/deployment/heroku/">Heroku</a></li>
        
          <li><a href="/user/deployment/launchpad/">Launchpad</a></li>
        
          <li><a href="/user/deployment/modulus/">Modulus</a></li>
        
          <li><a href="/user/deployment/npm/">npm</a></li>
        
          <li><a href="/user/deployment/openshift/">OpenShift</a></li>
        
          <li><a href="/user/deployment/packagecloud/">packagecloud.io</a></li>
        
          <li><a href="/user/deployment/puppetforge/">Puppet Forge</a></li>
        
          <li><a href="/user/deployment/pypi/">PyPI</a></li>
        
          <li><a href="/user/deployment/cloudfiles/">Rackspace Cloud Files</a></li>
        
          <li><a href="/user/deployment/rubygems/">RubyGems</a></li>
        
          <li><a href="/user/deployment/scalingo/">Scalingo</a></li>
        
          <li><a href="/user/deployment/script/">Script</a></li>
        
          <li><a href="/user/deployment/surge/">Surge.sh</a></li>
        
          <li><a href="/user/deployment/testfairy/">TestFairy</a></li>
        
          <li><a href="/user/deployment/snaps/">Ubuntu Snap Store</a></li>
        
        <li><a href="/user/uploading-artifacts/">Uploading Build Artifacts</a></li>
      </ul>

      <h3>CI Environment Reference</h3>
      <ul>
      <li class="is-overview"><a href="/user/reference/overview/">Overview</a></li>
      <li><a href="/user/reference/precise/">Precise CI Environment Reference</a></li>
      <li><a href="/user/reference/trusty/">Trusty CI Environment</a><li>
      <li><a href="/user/reference/osx/">OS X CI Environment Reference</a></li>
      <li><a href="/user/multi-os/">Building on Multiple Operating Systems</a></li>
      <li><a href="/user/environment-variables/">Environment Variables</a></li>
      <li><a href="/user/precise-to-trusty-migration-guide/">Precise to Trusty Migration Guide</a></li>
      <li><a href="/user/build-environment-updates/">Build Environment Updates</a></li>
      <li><a href="/user/ip-addresses/">Build machines IP Addresses</a></li>
      </ul>

      <h3>Encrypting Files and Data</h3>
      <ul>
        <li><a href="/user/encryption-keys/">Encrypting Sensitive Data</a></li>
        <li><a href="/user/encrypting-files/">Encrypting Files</a></li>
        <li><a href="/user/github-oauth-scopes/">GitHub Permissions used by Travis CI</a></li>
        <li><a href="/user/best-practices-security/">Best Practices in Securing Your Data</a></li>
      </ul>

      <h3>Beta Features</h3>
      <ul>
        <li><a href="/user/build-stages/">Build Stages</a></li>
        <li><a href="/user/conditional-builds-stages-jobs/">Conditional Builds, Stages, and Jobs</a></li>
      </ul>

      <h3>Integrations and Notifications</h3>
      <ul>
        <li><a href="/user/notifications/">Configuring Notifications</a></li>
        <li><a href="/user/status-images/">Showing Build Status Images</a></li>
        <li><a href="/user/code-climate/">Code Climate</a></li>
        <li><a href="/user/coveralls/">Coveralls</a></li>
        <li><a href="/user/coverity-scan/">Coverity Scan</a></li>
        <li><a href="/user/browserstack/">BrowserStack</a></li>
        <li><a href="/user/sauce-connect/">Sauce Labs</a></li>
        <li><a href="/user/sonarcloud/">SonarCloud</a></li>
        <li><a href="/user/sourceclear/">SourceClear</a></li>
        <li><a href="/user/build-feeds/">Atom Feeds</a></li>
        <li><a href="/user/cc-menu/">CCMenu / CCTray Feeds</a></li>
        <li><a href="/user/integration/platformio/">Embedded Builds with PlatformIO</a></li>
      </ul>

      <h3>Developer Program</h3>
      <ul>
        <li class="is-overview"><a href="/user/developer/">Overview</a></li>
        <li><a href="http://developer.travis-ci.com/">API V3</a></li>
        <li><a href="/user/triggering-builds/">Triggering Builds with API V3</a></li>
        <li><a href="https://github.com/travis-ci/travis#ruby-library">The Ruby Library</a></li>
      </ul>
      <h3>3rd Party Tools and Resources</h3>
      <ul>
        <li><a href="/user/apps/">Apps, Clients and Tools</a></li>
        <li><a href="https://scan.coverity.com/travis_ci">Coverity Scan</a></li>
      </ul>
      <h3>Travis CI Enterprise</h3>
      <ul>
        <li><a href="/user/enterprise/">Enterprise Docs</a></li>
      </ul>
      <h3>Legal</h3>
      <ul>
        <li><a href="/legal/security/">Security</a></li>
        <li><a href="/legal/terms-conditions/">Terms and Conditions</a></li>
      </ul>
    </nav>
  </section>

  <section class="sidebar-notice">
    <p>This documentation site is open source.
      The <a href="https://github.com/travis-ci/docs-travis-ci-com">README in our Git repository</a> explains how to contribute.</p>
  </section>

</div><!-- /#sidebar -->


        <main id="main" class="main" data-swiftype-index='true'>
          
            <aside class="improve-page" data-swiftype-index='false'><a href="https://github.com/travis-ci/docs-travis-ci-com/edit/master/user/languages/python.md" target="_blank" title="Edit this page on GitHub" class="button-pen" data-proofer-ignore>Improve this page on GitHub</a></aside>
            <h1 class="title">Building a Python Project</h1>
          
          <div id="toc"></div>

<aside class="ataglance">

  <table>
    <thead>
      <tr>
        <th style="text-align: left">Python</th>
        <th style="text-align: left">Default</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="text-align: left"><a href="#Dependency-Management">Default <code class="highlighter-rouge">install</code></a></td>
        <td style="text-align: left"><code class="highlighter-rouge">pip install -r requirements.txt</code></td>
      </tr>
      <tr>
        <td style="text-align: left"><a href="#Default-Build-Script">Default <code class="highlighter-rouge">script</code></a></td>
        <td style="text-align: left">N/A</td>
      </tr>
      <tr>
        <td style="text-align: left"><a href="#Build-Matrix">Matrix keys</a></td>
        <td style="text-align: left"><code class="highlighter-rouge">python</code>, <code class="highlighter-rouge">env</code></td>
      </tr>
      <tr>
        <td style="text-align: left">Support</td>
        <td style="text-align: left"><a href="mailto:support@travis-ci.com">Travis CI</a></td>
      </tr>
    </tbody>
  </table>

  <p>Minimal example:</p>

  <div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="na">language</span><span class="pi">:</span> <span class="s">python</span>
  <span class="na">python</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">3.6"</span>
  <span class="na">script</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">pytest</span>
</code></pre></div>  </div>

</aside>

<h3 id="what-this-guide-covers">What This Guide Covers</h3>

<blockquote>
  <p>Language versions and other build-environment specific
information are in our reference pages:</p>
  <ul>
    <li><a href="/user/reference/precise/">Precise</a></li>
    <li><a href="/user/reference/trusty/">Trusty</a></li>
  </ul>
</blockquote>

<p>Python builds are not available on the macOS environment.</p>

<p>The rest of this guide covers configuring Python projects in Travis CI. If you’re
new to Travis CI please read our <a href="/user/getting-started/">Getting Started</a> and
<a href="/user/customizing-the-build/">build configuration</a> guides first.</p>

<h2 id="specifying-python-versions">Specifying Python versions</h2>

<p>Specify python versions using the <code class="highlighter-rouge">python</code> key. As we update the Python build
images, aliases like <code class="highlighter-rouge">3.6</code> will point to different exact versions or patch
levels.</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">language</span><span class="pi">:</span> <span class="s">python</span>
<span class="na">python</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">2.6"</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">2.7"</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">3.3"</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">3.4"</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">3.5"</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">3.5-dev"</span>  <span class="c1"># 3.5 development branch</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">3.6"</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">3.6-dev"</span>  <span class="c1"># 3.6 development branch</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">3.7-dev"</span>  <span class="c1"># 3.7 development branch</span>
<span class="c1"># command to install dependencies</span>
<span class="na">install</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">pip install -r requirements.txt</span>
<span class="c1"># command to run tests</span>
<span class="na">script</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">pytest</span> <span class="c1"># or py.test for Python versions 3.5 and below</span>
</code></pre></div></div>

<h3 id="travis-ci-uses-isolated-virtualenvs">Travis CI Uses Isolated virtualenvs</h3>

<p>The CI Environment uses separate virtualenv instances for each Python
version. This means that as soon as you specify <code class="highlighter-rouge">language: python</code> in <code class="highlighter-rouge">.travis.yml</code> your tests will run inside a virtualenv (without you having to explicitly create it).
System Python is not used and should not be relied on. If you need
to install Python packages, do it via pip and not apt.</p>

<p>If you decide to use apt anyway, note that for compatibility reasons, you’ll only be able to use the default Python versions that are available in Ubuntu (e.g. for Trusty, this means 2.7.6 and 3.4.3).
To access the packages inside the virtualenv, you will need to specify that it should be created with the <code class="highlighter-rouge">--system-site-packages</code> option.
To do this, include the following in your <code class="highlighter-rouge">.travis.yml</code>:</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">language</span><span class="pi">:</span> <span class="s">python</span>
<span class="na">virtualenv</span><span class="pi">:</span>
  <span class="na">system_site_packages</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div>

<h3 id="pypy-support">PyPy Support</h3>

<p>Travis CI supports PyPy and PyPy3.</p>

<p>To test your project against PyPy, add “pypy” or “pypy3” to the list of Pythons
in your <code class="highlighter-rouge">.travis.yml</code>:</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">language</span><span class="pi">:</span> <span class="s">python</span>
<span class="na">python</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">2.6"</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">2.7"</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">3.4"</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">3.5"</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">3.6"</span>
  <span class="c1"># PyPy versions</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">pypy2.7"</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">pypy3.5"</span>
<span class="c1"># command to install dependencies</span>
<span class="na">install</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">pip install .</span>
  <span class="pi">-</span> <span class="s">pip install -r requirements.txt</span>
<span class="c1"># command to run tests</span>
<span class="na">script</span><span class="pi">:</span> <span class="s">pytest</span>
</code></pre></div></div>

<h3 id="nightly-build-support">Nightly build support</h3>

<p>Travis CI supports a special version name <code class="highlighter-rouge">nightly</code>, which points to
a recent development version of <a href="https://github.com/python/cpython">CPython</a> build.</p>

<h3 id="development-releases-support">Development releases support</h3>

<p>From Python 3.5 and later, Python In Development versions are available.</p>

<p>You can specify these in your builds with <code class="highlighter-rouge">3.5-dev</code>, <code class="highlighter-rouge">3.6-dev</code>,
<code class="highlighter-rouge">3.7-dev</code> or <code class="highlighter-rouge">3.8-dev</code>.</p>

<blockquote class="warning">
  <p>Recent Python development branches <a href="https://github.com/travis-ci/travis-ci/issues/9069">require OpenSSL 1.0.2+</a>.
As this library is not available for Trusty, <code class="highlighter-rouge">3.7-dev</code>, <code class="highlighter-rouge">3.8-dev</code>, and <code class="highlighter-rouge">nightly</code>
do not work (or use outdated archive).</p>
</blockquote>

<h2 id="default-build-script">Default Build Script</h2>

<p>Python projects need to provide the <code class="highlighter-rouge">script</code> key in their <code class="highlighter-rouge">.travis.yml</code> to
specify what command to run tests with.</p>

<p>For example, if your project uses pytest:</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># command to run tests</span>
<span class="na">script</span><span class="pi">:</span> <span class="s">pytest</span>  <span class="c1"># or py.test for Python versions 3.5 and below</span>
</code></pre></div></div>

<p>if it uses <code class="highlighter-rouge">make test</code> instead:</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">script</span><span class="pi">:</span> <span class="s">make test</span>
</code></pre></div></div>

<p>If you do not provide a <code class="highlighter-rouge">script</code> key in a Python project, Travis CI prints a
message (<em>“Please override the script: key in your .travis.yml to run tests.”</em>)
and fails the build.</p>

<h2 id="using-tox-as-the-build-script">Using Tox as the Build Script</h2>

<p>Due to the way Travis is designed, interaction with <a href="https://tox.readthedocs.io/en/latest/">tox</a> is not straightforward.
As described <a href="/user/languages/python/#Travis-CI-Uses-Isolated-virtualenvs">above</a>, Travis already runs tests inside an isolated virtualenv whenever <code class="highlighter-rouge">language: python</code> is specified, so please bear that in mind whenever creating more environments with tox. If you would prefer to run tox outside the Travis-created virtualenv, it might be a better idea to use <code class="highlighter-rouge">language: generic</code> instead of <code class="highlighter-rouge">language: python</code>.</p>

<p>If you’re using tox to test your code against multiple versions of python, you have two options:</p>
<ul>
  <li>use <code class="highlighter-rouge">language: generic</code> and manually install the python versions you’re interested in before running tox (without the manual installation, tox will only have access to the default Ubuntu python versions - 2.7.6 and 3.4.3 for Trusty)</li>
  <li>use <code class="highlighter-rouge">language: python</code> and a build matrix that uses a different version of python for each branch (you can specify the python version by using the <code class="highlighter-rouge">python</code> key). This will ensure the versions you’re interested in are installed and parallelizes your workload.</li>
</ul>

<p>A good example of a <code class="highlighter-rouge">travis.yml</code> that runs tox using a Travis build matrix is <a href="https://github.com/twisted/klein/blob/master/.travis.yml">twisted/klein</a>.</p>

<h2 id="dependency-management">Dependency Management</h2>

<h3 id="pip">pip</h3>

<p>By default Travis CI uses <code class="highlighter-rouge">pip</code> to manage Python dependencies. If you have a
<code class="highlighter-rouge">requirements.txt</code> file, Travis CI runs <code class="highlighter-rouge">pip install -r requirements.txt</code>
during the <code class="highlighter-rouge">install</code> phase of the build.</p>

<p>You can manually override this default <code class="highlighter-rouge">install</code> phase, for example:</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">install</span><span class="pi">:</span> <span class="s">pip install --user -r requirements.txt</span>
</code></pre></div></div>

<p>Please note that the <code class="highlighter-rouge">--user</code> option is mandatory if you are not using <code class="highlighter-rouge">language: python</code>, since no virtualenv will be created in that case.</p>

<h3 id="custom-dependency-management">Custom Dependency Management</h3>

<p>To override the default <code class="highlighter-rouge">pip</code> dependency management, alter the <code class="highlighter-rouge">before_install</code>
step as described in <a href="/user/customizing-the-build/#Customizing-the-Installation-Step">general build
configuration</a> guide.</p>

<h3 id="testing-against-multiple-versions-of-dependencies-eg-django-or-flask">Testing Against Multiple Versions of Dependencies (e.g. Django or Flask)</h3>

<p>If you need to test against multiple versions of, say, Django, you can instruct
Travis CI to do multiple runs with different sets or values of environment variables.</p>

<p>Use <em>env</em> key in your .travis.yml file, for example:</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">env</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">DJANGO_VERSION=1.10.8</span>
  <span class="pi">-</span> <span class="s">DJANGO_VERSION=1.11.5</span>
</code></pre></div></div>

<p>and then use ENV variable values in your dependencies installation scripts, test
cases or test script parameter values. Here we use ENV variable value to instruct
pip to install an exact version:</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">install</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">pip install -q Django==$DJANGO_VERSION</span>
  <span class="pi">-</span> <span class="s">python setup.py -q install</span>
</code></pre></div></div>

<p>The same technique is often used to test projects against multiple databases and so on.</p>

<p>For a real world example, see <a href="https://github.com/getsentry/sentry/blob/master/.travis.yml">getsentry/sentry</a> and <a href="https://github.com/jpvanhal/flask-split/blob/master/.travis.yml">jpvanhal/flask-split</a>.</p>

<h2 id="build-matrix">Build Matrix</h2>

<p>For Python projects, <code class="highlighter-rouge">env</code> and <code class="highlighter-rouge">python</code> can be given as arrays
to construct a build matrix.</p>

<h2 id="examples">Examples</h2>

<ul>
  <li><a href="https://github.com/tornadoweb/tornado/blob/master/.travis.yml">tornadoweb/tornado</a></li>
  <li><a href="https://github.com/simplejson/simplejson/blob/master/.travis.yml">simplejson/simplejson</a></li>
  <li><a href="http://github.com/fabric/fabric/blob/master/.travis.yml">fabric/fabric</a></li>
  <li><a href="https://github.com/dstufft/slumber/blob/master/.travis.yml">dstufft/slumber</a></li>
  <li><a href="https://github.com/dreid/cotools/blob/master/.travis.yml">dreid/cotools</a></li>
  <li><a href="https://github.com/twisted/klein/blob/master/.travis.yml">twisted/klein</a></li>
</ul>

        </main>
      </div><!-- /#content -->

      <footer class="footer">
  <div class="inner row">
    <div class="footer-elem">
      <div class="travis-footer">
        <img alt="The Travis CI logo" src="/images/ui/footer-logo.svg"></div>
    </div>

    <div class="footer-elem">
      <h3 class="footer-title">&copy;Travis CI, GmbH</h3>
      <address>Rigaer Straße 8<br>10247 Berlin, Germany</address>
      <ul>
        <li><a href="https://docs.travis-ci.com/imprint.html" title="Imprint">Imprint</a></li>
        <li><a href="https://travisci.workable.com/" title="Jobs at Travis CI">Jobs</a></li>
      </ul>
    </div>

    <div class="footer-elem">
      <h3 class="footer-title">Help</h3>
      <ul>
        <li><a href="https://docs.travis-ci.com" title="Travis CI Docs">Documentation</a></li>
        <li><a href="https://blog.travis-ci.com/" title="Travis CI Blog">Blog</a></li>
        <li><a href="mailto:support@travis-ci.com" title="Email Travis CI support">Email</a></li>
        <li><a href="https://twitter.com/travisci" title="Travis CI on Twitter">Twitter</a></li>
      </ul>
    </div>

    <div class="footer-elem">
      <h3 class="footer-title">Travis CI Status</h3>
      <ul>
        <li><div class="status-circle status">Status:</div>
          <a href="http://www.traviscistatus.com/">Travis CI Status</a>
        </li>
      </ul>
    </div>
  </div>
</footer>

    </div><!-- /.wrapper -->
  </body>
</html>
